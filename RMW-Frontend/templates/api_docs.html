<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentatie - ReachMyWeight</title>
    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigatiebalk -->
    <nav class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-bold text-gray-800">ReachMy<span class="text-blue-500">Weight</span> API</h1>
                </div>
                <div class="flex items-center">
                    <a href="/dashboard" class="bg-blue-100 hover:bg-blue-200 text-blue-700 px-3 py-2 rounded-md text-sm font-medium transition duration-300 mr-4">
                        Dashboard
                    </a>
                    <a href="/logout" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-md text-sm font-medium transition duration-300">
                        Uitloggen
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hoofdinhoud -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
            <div class="px-6 py-4 bg-blue-500 text-white">
                <h2 class="text-xl font-semibold">API Documentatie</h2>
            </div>
            <div class="p-6">
                <p class="mb-4">
                    De Gewichtstracker API stelt je in staat om gewichtsgegevens programmatisch te beheren en berekeningen uit te voeren.
                    Alle endpoints retourneren data in JSON formaat.
                </p>
                
                <h3 class="text-lg font-medium text-gray-800 mt-6 mb-2">Basis URL</h3>
                <div class="bg-gray-100 p-3 rounded-md font-mono text-sm mb-4">
                    http://localhost:8002/api
                </div>
                
                <h3 class="text-lg font-medium text-gray-800 mt-6 mb-2">Authenticatie</h3>
                <p class="mb-4">
                    Deze demo-versie van de API heeft geen authenticatie. In een productieomgeving zou 
                    je een API key of OAuth token moeten gebruiken.
                </p>
                
                <h3 class="text-lg font-medium text-gray-800 mt-6 mb-2">Beschikbare Endpoints</h3>
                
                <!-- Endpoint 1 -->
                <div class="border rounded-md mb-4">
                    <div class="p-3 bg-green-100 border-b flex items-center">
                        <span class="bg-green-500 text-white font-bold px-2 py-1 rounded text-xs mr-3">GET</span>
                        <span class="font-mono">/api/weights/{user_id}</span>
                    </div>
                    <div class="p-4">
                        <h4 class="font-medium mb-2">Haal gewichtsmetingen op</h4>
                        <p class="text-sm text-gray-600 mb-3">
                            Haalt alle gewichtsmetingen op voor een specifieke gebruiker, gesorteerd op datum (nieuwste eerst).
                        </p>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Parameters:</h5>
                        <ul class="text-sm text-gray-600 list-disc list-inside mb-3">
                            <li><span class="font-mono text-xs">user_id</span> (pad parameter) - De ID van de gebruiker</li>
                        </ul>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Voorbeeld respons:</h5>
                        <pre class="bg-gray-100 p-2 rounded-md text-xs overflow-auto mb-3">
[
  {
    "id": 1,
    "user_id": 1,
    "weight": 80.5,
    "goal_weight": 75.0,
    "date": "2025-03-22"
  },
  {
    "id": 2,
    "user_id": 1,
    "weight": 80.2,
    "goal_weight": 75.0,
    "date": "2025-03-21"
  }
]</pre>
                    </div>
                </div>
                
                <!-- Endpoint 2 -->
                <div class="border rounded-md mb-4">
                    <div class="p-3 bg-blue-100 border-b flex items-center">
                        <span class="bg-blue-500 text-white font-bold px-2 py-1 rounded text-xs mr-3">POST</span>
                        <span class="font-mono">/api/weights/</span>
                    </div>
                    <div class="p-4">
                        <h4 class="font-medium mb-2">Voeg een nieuwe gewichtsmeting toe</h4>
                        <p class="text-sm text-gray-600 mb-3">
                            Voegt een nieuwe gewichtsmeting toe voor een gebruiker.
                        </p>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Request body:</h5>
                        <pre class="bg-gray-100 p-2 rounded-md text-xs overflow-auto mb-3">
{
  "user_id": 1,
  "weight": 80.5,
  "goal_weight": 75.0,
  "date": "2025-03-22"  // optioneel, standaard is de huidige datum
}</pre>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Voorbeeld respons:</h5>
                        <pre class="bg-gray-100 p-2 rounded-md text-xs overflow-auto mb-3">
{
  "id": 3,
  "user_id": 1,
  "weight": 80.5,
  "goal_weight": 75.0,
  "date": "2025-03-22"
}</pre>
                    </div>
                </div>
                
                <!-- Endpoint 3 -->
                <div class="border rounded-md">
                    <div class="p-3 bg-blue-100 border-b flex items-center">
                        <span class="bg-blue-500 text-white font-bold px-2 py-1 rounded text-xs mr-3">POST</span>
                        <span class="font-mono">/api/calculate/</span>
                    </div>
                    <div class="p-4">
                        <h4 class="font-medium mb-2">Bereken tijd tot doel</h4>
                        <p class="text-sm text-gray-600 mb-3">
                            Berekent de tijd in dagen die nodig is om van het huidige gewicht naar het streefgewicht te gaan,
                            op basis van het O(n²) algoritme.
                        </p>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Request body:</h5>
                        <pre class="bg-gray-100 p-2 rounded-md text-xs overflow-auto mb-3">
{
  "user_id": 1,
  "weight": 80.5,
  "goal_weight": 75.0
}</pre>
                        
                        <h5 class="font-medium text-sm text-gray-700 mb-1">Voorbeeld respons:</h5>
                        <pre class="bg-gray-100 p-2 rounded-md text-xs overflow-auto mb-3">
{
  "days_to_goal": 5.5,
  "current_weight": 80.5,
  "goal_weight": 75.0
}</pre>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Over het Algoritme -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
            <div class="px-6 py-4 bg-purple-500 text-white">
                <h2 class="text-xl font-semibold">Over het O(n²) Algoritme</h2>
            </div>
            <div class="p-6">
                <p class="mb-4">
                    Deze API maakt gebruik van een speciaal O(n²) algoritme om de tijd te berekenen die nodig is
                    om een gewichtsdoel te bereiken. 
                </p>
                
                <h3 class="text-lg font-medium text-gray-800 mt-4 mb-2">Hoe werkt het?</h3>
                <p class="mb-4">
                    Het algoritme gebruikt het verschil tussen het huidige gewicht en het streefgewicht als input (n).
                    Vervolgens voert het een berekening uit met een tijdscomplexiteit van O(n²), wat betekent dat de
                    rekentijd kwadratisch toeneemt met het verschil in gewicht.
                </p>
                
                <h3 class="text-lg font-medium text-gray-800 mt-4 mb-2">Pseudocode</h3>
                <pre class="bg-gray-100 p-3 rounded-md text-sm overflow-auto mb-4">
function calculate_time_to_goal(current_weight, goal_weight):
    n = abs(current_weight - goal_weight)
    result = 0
    
    # O(n²) loop
    for i = 0 to n-1:
        for j = 0 to n-1:
            result += kleine_factor
    
    return max(1, min(n, result + n))
</pre>
                
                <p class="text-sm text-gray-600">
                    <strong>Opmerking:</strong> Dit algoritme is specifiek ontwikkeld voor deze applicatie en dient
                    als demonstratie van een O(n²) implementatie. In een productieomgeving zou een efficiënter
                    algoritme kunnen worden gebruikt.
                </p>
            </div>
        </div>
    </main>
</body>
</html>